{% extends "base.html" %}
{% load widget_tweaks %}
{% load get_item %}

{% block content %}

<div class="qAndA">
    <div class="questionDiv">
        <p class="questionPara">{{ question.question }}</p>
        <p class="questioner">By {{ question.user.username }}</p>
    </div>

    {% for answer in answers %}

    <div class="answerDiv">
        <p class="answerPara">{{ answer.answer }}</p>
        <form style="display: inline;" action="/questions/question/{{ question.slug }}/noice/{{ answer.id }}">
            <button class="upvoteButton"><i class="far fa-lightbulb"></i>
                {% if answer in voted %}
                Noice'd
                {% else %}
                Noice
                {% endif %}
            </button>
        </form>
        <span class="upvoteCounter">Number of Votes:
            {% if answer.id in total_votes %}
            {{total_votes|get_item:answer.id}}
            {% else %}
            0
            {% endif %}
        </span>
        <p class="answerer">By {{ answer.user.username }}</p>
    </div>

    {% endfor %}
</div>

{% endblock %}